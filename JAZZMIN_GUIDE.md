# Jazzmin - Красивая админка для Django

## Что было добавлено

### 1. Установка и настройка
- Добавлен `django-jazzmin==2.6.0` в `requirements.txt`
- Настроен в `INSTALLED_APPS` перед `django.contrib.admin`
- Добавлены кастомные настройки в `settings.py`

### 2. Кастомные стили и скрипты
- **CSS**: `static/admin/css/custom.css` - кастомные стили для админки
- **JavaScript**: `static/admin/js/custom.js` - интерактивные функции

### 3. Кастомные шаблоны
- **Главная страница**: `templates/admin/index.html` - красивая дашборд с статистикой
- **Страница входа**: `templates/admin/login.html` - стильная форма входа
- **Изменение пароля**: `templates/admin/password_change_form.html` - форма с валидацией
- **Успешное изменение**: `templates/admin/password_change_done.html` - страница успеха

### 4. Контекстный процессор
- `kingdom/context_processors.py` - передает данные для дашборда админки

## Особенности Jazzmin

### Настройки темы
- **Цветовая схема**: Градиент от синего к фиолетовому
- **Иконки**: FontAwesome иконки для всех моделей
- **Навигация**: Расширенное боковое меню с кастомными ссылками

### Кастомные функции
- **Статистика**: Счетчики пользователей, королевств, тестов
- **Активность**: Последние действия пользователей
- **Быстрые действия**: Ссылки на часто используемые функции
- **Демо-аккаунты**: Информация о тестовых пользователях

### Интерактивность
- **Анимации**: Плавные переходы и эффекты
- **Валидация**: Проверка паролей и форм
- **Уведомления**: Красивые всплывающие сообщения
- **Поиск**: Быстрый поиск по таблицам

## Как использовать

### 1. Запуск проекта
```bash
# Установка зависимостей
pip install -r requirements.txt

# Применение миграций
python manage.py migrate

# Сбор статических файлов
python manage.py collectstatic

# Запуск сервера
python manage.py runserver
```

### 2. Доступ к админке
- URL: `http://localhost:8000/admin/`
- Демо-аккаунты доступны на странице входа

### 3. Настройка
Все настройки Jazzmin находятся в `settings.py`:
- `JAZZMIN_SETTINGS` - основные настройки
- `JAZZMIN_UI_TWEAKS` - настройки интерфейса

## Кастомные настройки

### Цвета
```python
:root {
    --primary-color: #667eea;
    --secondary-color: #764ba2;
    --success-color: #28a745;
    --warning-color: #ffc107;
    --danger-color: #dc3545;
    --info-color: #17a2b8;
}
```

### Иконки моделей
- `users.User`: `fas fa-user-circle`
- `kingdom.Kingdom`: `fas fa-crown`
- `kingdom.King`: `fas fa-user-tie`
- `kingdom.Citizen`: `fas fa-user`
- `kingdom.Test`: `fas fa-clipboard-check`
- `kingdom.ActionLog`: `fas fa-history`

### Быстрые ссылки
- API Документация: `/api/docs/`
- Статистика логов: `/kingdom/logs/statistics/`
- Все логи: `/admin/kingdom/actionlog/`

## Расширение функциональности

### Добавление новых иконок
1. Обновите `JAZZMIN_SETTINGS["icons"]` в `settings.py`
2. Используйте FontAwesome классы

### Кастомные ссылки
1. Добавьте в `JAZZMIN_SETTINGS["custom_links"]`
2. Укажите URL, иконку и права доступа

### Дополнительные стили
1. Отредактируйте `static/admin/css/custom.css`
2. Перезапустите сервер для применения изменений

## Советы по использованию

1. **Производительность**: Jazzmin добавляет немного нагрузки, но это компенсируется улучшенным UX
2. **Мобильность**: Адаптивный дизайн работает на всех устройствах
3. **Безопасность**: Все стандартные Django настройки безопасности сохранены
4. **Совместимость**: Работает с существующими админ-классами

## Устранение проблем

### Статические файлы не загружаются
```bash
python manage.py collectstatic --noinput
```

### Стили не применяются
1. Проверьте путь к CSS в `JAZZMIN_SETTINGS["custom_css"]`
2. Убедитесь, что файл существует в `static/admin/css/`

### JavaScript не работает
1. Проверьте путь к JS в `JAZZMIN_SETTINGS["custom_js"]`
2. Откройте консоль браузера для отладки

## Заключение

Jazzmin значительно улучшает внешний вид и функциональность Django админки, делая её более современной и удобной для использования. Все настройки оптимизированы для проекта "Кадровая служба королевства" и готовы к использованию.
